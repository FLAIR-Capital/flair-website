function _i(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var $t=!1,jt=!1,ae=[],kt=-1;function vi(t){gi(t)}function gi(t){ae.includes(t)||ae.push(t),yi()}function Br(t){let e=ae.indexOf(t);e!==-1&&e>kt&&ae.splice(e,1)}function yi(){!jt&&!$t&&($t=!0,queueMicrotask(mi))}function mi(){$t=!1,jt=!0;for(let t=0;t<ae.length;t++)ae[t](),kt=t;ae.length=0,kt=-1,jt=!1}var be,we,Ne,qr,Ct=!0;function bi(t){Ct=!1,t(),Ct=!0}function wi(t){be=t.reactive,Ne=t.release,we=e=>t.effect(e,{scheduler:r=>{Ct?vi(r):r()}}),qr=t.raw}function br(t){we=t}function xi(t){let e=()=>{};return[n=>{let i=we(n);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(s=>s())}),t._x_effects.add(i),e=()=>{i!==void 0&&(t._x_effects.delete(i),Ne(i))},i},()=>{e()}]}var Hr=[],zr=[],Jr=[];function Ei(t){Jr.push(t)}function Kr(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,zr.push(e))}function Si(t){Hr.push(t)}function Oi(t,e,r){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(r)}function Gr(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([r,n])=>{(e===void 0||e.includes(r))&&(n.forEach(i=>i()),delete t._x_attributeCleanups[r])})}var Vt=new MutationObserver(Zt),Yt=!1;function Xt(){Vt.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Yt=!0}function Wr(){Ti(),Vt.disconnect(),Yt=!1}var ke=[],vt=!1;function Ti(){ke=ke.concat(Vt.takeRecords()),ke.length&&!vt&&(vt=!0,queueMicrotask(()=>{Ai(),vt=!1}))}function Ai(){Zt(ke),ke.length=0}function C(t){if(!Yt)return t();Wr();let e=t();return Xt(),e}var Qt=!1,Ge=[];function $i(){Qt=!0}function ji(){Qt=!1,Zt(Ge),Ge=[]}function Zt(t){if(Qt){Ge=Ge.concat(t);return}let e=[],r=[],n=new Map,i=new Map;for(let s=0;s<t.length;s++)if(!t[s].target._x_ignoreMutationObserver&&(t[s].type==="childList"&&(t[s].addedNodes.forEach(o=>o.nodeType===1&&e.push(o)),t[s].removedNodes.forEach(o=>o.nodeType===1&&r.push(o))),t[s].type==="attributes")){let o=t[s].target,a=t[s].attributeName,c=t[s].oldValue,l=()=>{n.has(o)||n.set(o,[]),n.get(o).push({name:a,value:o.getAttribute(a)})},u=()=>{i.has(o)||i.set(o,[]),i.get(o).push(a)};o.hasAttribute(a)&&c===null?l():o.hasAttribute(a)?(u(),l()):u()}i.forEach((s,o)=>{Gr(o,s)}),n.forEach((s,o)=>{Hr.forEach(a=>a(o,s))});for(let s of r)if(!e.includes(s)&&(zr.forEach(o=>o(s)),s._x_cleanups))for(;s._x_cleanups.length;)s._x_cleanups.pop()();e.forEach(s=>{s._x_ignoreSelf=!0,s._x_ignore=!0});for(let s of e)r.includes(s)||s.isConnected&&(delete s._x_ignoreSelf,delete s._x_ignore,Jr.forEach(o=>o(s)),s._x_ignore=!0,s._x_ignoreSelf=!0);e.forEach(s=>{delete s._x_ignoreSelf,delete s._x_ignore}),e=null,r=null,n=null,i=null}function Vr(t){return Fe(ve(t))}function Me(t,e,r){return t._x_dataStack=[e,...ve(r||t)],()=>{t._x_dataStack=t._x_dataStack.filter(n=>n!==e)}}function wr(t,e){let r=t._x_dataStack[0];Object.entries(e).forEach(([n,i])=>{r[n]=i})}function ve(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?ve(t.host):t.parentNode?ve(t.parentNode):[]}function Fe(t){let e=new Proxy({},{ownKeys:()=>Array.from(new Set(t.flatMap(r=>Object.keys(r)))),has:(r,n)=>t.some(i=>i.hasOwnProperty(n)),get:(r,n)=>(t.find(i=>{if(i.hasOwnProperty(n)){let s=Object.getOwnPropertyDescriptor(i,n);if(s.get&&s.get._x_alreadyBound||s.set&&s.set._x_alreadyBound)return!0;if((s.get||s.set)&&s.enumerable){let o=s.get,a=s.set,c=s;o=o&&o.bind(e),a=a&&a.bind(e),o&&(o._x_alreadyBound=!0),a&&(a._x_alreadyBound=!0),Object.defineProperty(i,n,{...c,get:o,set:a})}return!0}return!1})||{})[n],set:(r,n,i)=>{let s=t.find(o=>o.hasOwnProperty(n));return s?s[n]=i:t[t.length-1][n]=i,!0}});return e}function Yr(t){let e=n=>typeof n=="object"&&!Array.isArray(n)&&n!==null,r=(n,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([s,{value:o,enumerable:a}])=>{if(a===!1||o===void 0)return;let c=i===""?s:`${i}.${s}`;typeof o=="object"&&o!==null&&o._x_interceptor?n[s]=o.initialize(t,c,s):e(o)&&o!==n&&!(o instanceof Element)&&r(o,c)})};return r(t)}function Xr(t,e=()=>{}){let r={initialValue:void 0,_x_interceptor:!0,initialize(n,i,s){return t(this.initialValue,()=>ki(n,i),o=>Pt(n,i,o),i,s)}};return e(r),n=>{if(typeof n=="object"&&n!==null&&n._x_interceptor){let i=r.initialize.bind(r);r.initialize=(s,o,a)=>{let c=n.initialize(s,o,a);return r.initialValue=c,i(s,o,a)}}else r.initialValue=n;return r}}function ki(t,e){return e.split(".").reduce((r,n)=>r[n],t)}function Pt(t,e,r){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=r;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),Pt(t[e[0]],e.slice(1),r)}}var Qr={};function B(t,e){Qr[t]=e}function Rt(t,e){return Object.entries(Qr).forEach(([r,n])=>{Object.defineProperty(t,`$${r}`,{get(){let[i,s]=nn(e);return i={interceptor:Xr,...i},Kr(e,s),n(e,i)},enumerable:!1})}),t}function Ci(t,e,r,...n){try{return r(...n)}catch(i){De(i,t,e)}}function De(t,e,r=void 0){Object.assign(t,{el:e,expression:r}),console.warn(`Alpine Expression Error: ${t.message}

${r?'Expression: "'+r+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var Ke=!0;function Pi(t){let e=Ke;Ke=!1,t(),Ke=e}function _e(t,e,r={}){let n;return I(t,e)(i=>n=i,r),n}function I(...t){return Zr(...t)}var Zr=en;function Ri(t){Zr=t}function en(t,e){let r={};Rt(r,t);let n=[r,...ve(t)],i=typeof e=="function"?Ii(n,e):Li(n,e,t);return Ci.bind(null,t,e,i)}function Ii(t,e){return(r=()=>{},{scope:n={},params:i=[]}={})=>{let s=e.apply(Fe([n,...t]),i);We(r,s)}}var gt={};function Di(t,e){if(gt[t])return gt[t];let r=Object.getPrototypeOf(async function(){}).constructor,n=/^[\n\s]*if.*\(.*\)/.test(t)||/^(let|const)\s/.test(t)?`(async()=>{ ${t} })()`:t,s=(()=>{try{return new r(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`)}catch(o){return De(o,e,t),Promise.resolve()}})();return gt[t]=s,s}function Li(t,e,r){let n=Di(e,r);return(i=()=>{},{scope:s={},params:o=[]}={})=>{n.result=void 0,n.finished=!1;let a=Fe([s,...t]);if(typeof n=="function"){let c=n(n,a).catch(l=>De(l,r,e));n.finished?(We(i,n.result,a,o,r),n.result=void 0):c.then(l=>{We(i,l,a,o,r)}).catch(l=>De(l,r,e)).finally(()=>n.result=void 0)}}}function We(t,e,r,n,i){if(Ke&&typeof e=="function"){let s=e.apply(r,n);s instanceof Promise?s.then(o=>We(t,o,r,n)).catch(o=>De(o,i,e)):t(s)}else typeof e=="object"&&e instanceof Promise?e.then(s=>t(s)):t(e)}var er="x-";function xe(t=""){return er+t}function Ui(t){er=t}var It={};function k(t,e){return It[t]=e,{before(r){if(!It[r]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const n=oe.indexOf(r);oe.splice(n>=0?n:oe.indexOf("DEFAULT"),0,t)}}}function tr(t,e,r){if(e=Array.from(e),t._x_virtualDirectives){let s=Object.entries(t._x_virtualDirectives).map(([a,c])=>({name:a,value:c})),o=tn(s);s=s.map(a=>o.find(c=>c.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),e=e.concat(s)}let n={};return e.map(an((s,o)=>n[s]=o)).filter(ln).map(Fi(n,r)).sort(Bi).map(s=>Mi(t,s))}function tn(t){return Array.from(t).map(an()).filter(e=>!ln(e))}var Dt=!1,$e=new Map,rn=Symbol();function Ni(t){Dt=!0;let e=Symbol();rn=e,$e.set(e,[]);let r=()=>{for(;$e.get(e).length;)$e.get(e).shift()();$e.delete(e)},n=()=>{Dt=!1,r()};t(r),n()}function nn(t){let e=[],r=a=>e.push(a),[n,i]=xi(t);return e.push(i),[{Alpine:qe,effect:n,cleanup:r,evaluateLater:I.bind(I,t),evaluate:_e.bind(_e,t)},()=>e.forEach(a=>a())]}function Mi(t,e){let r=()=>{},n=It[e.type]||r,[i,s]=nn(t);Oi(t,e.original,s);let o=()=>{t._x_ignore||t._x_ignoreSelf||(n.inline&&n.inline(t,e,i),n=n.bind(n,t,e,i),Dt?$e.get(rn).push(n):n())};return o.runCleanups=s,o}var sn=(t,e)=>({name:r,value:n})=>(r.startsWith(t)&&(r=r.replace(t,e)),{name:r,value:n}),on=t=>t;function an(t=()=>{}){return({name:e,value:r})=>{let{name:n,value:i}=cn.reduce((s,o)=>o(s),{name:e,value:r});return n!==e&&t(n,e),{name:n,value:i}}}var cn=[];function rr(t){cn.push(t)}function ln({name:t}){return un().test(t)}var un=()=>new RegExp(`^${er}([^:^.]+)\\b`);function Fi(t,e){return({name:r,value:n})=>{let i=r.match(un()),s=r.match(/:([a-zA-Z0-9\-:]+)/),o=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||t[r]||r;return{type:i?i[1]:null,value:s?s[1]:null,modifiers:o.map(c=>c.replace(".","")),expression:n,original:a}}}var Lt="DEFAULT",oe=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",Lt,"teleport"];function Bi(t,e){let r=oe.indexOf(t.type)===-1?Lt:t.type,n=oe.indexOf(e.type)===-1?Lt:e.type;return oe.indexOf(r)-oe.indexOf(n)}function Ce(t,e,r={}){t.dispatchEvent(new CustomEvent(e,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function V(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(i=>V(i,e));return}let r=!1;if(e(t,()=>r=!0),r)return;let n=t.firstElementChild;for(;n;)V(n,e),n=n.nextElementSibling}function ge(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}function qi(){document.body||ge("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Ce(document,"alpine:init"),Ce(document,"alpine:initializing"),Xt(),Ei(e=>Y(e,V)),Kr(e=>gn(e)),Si((e,r)=>{tr(e,r).forEach(n=>n())});let t=e=>!Xe(e.parentElement,!0);Array.from(document.querySelectorAll(fn())).filter(t).forEach(e=>{Y(e)}),Ce(document,"alpine:initialized")}var nr=[],hn=[];function dn(){return nr.map(t=>t())}function fn(){return nr.concat(hn).map(t=>t())}function pn(t){nr.push(t)}function _n(t){hn.push(t)}function Xe(t,e=!1){return Qe(t,r=>{if((e?fn():dn()).some(i=>r.matches(i)))return!0})}function Qe(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Qe(t.parentElement,e)}}function Hi(t){return dn().some(e=>t.matches(e))}var vn=[];function zi(t){vn.push(t)}function Y(t,e=V,r=()=>{}){Ni(()=>{e(t,(n,i)=>{r(n,i),vn.forEach(s=>s(n,i)),tr(n,n.attributes).forEach(s=>s()),n._x_ignore&&i()})})}function gn(t){V(t,e=>Gr(e))}var Ut=[],ir=!1;function sr(t=()=>{}){return queueMicrotask(()=>{ir||setTimeout(()=>{Nt()})}),new Promise(e=>{Ut.push(()=>{t(),e()})})}function Nt(){for(ir=!1;Ut.length;)Ut.shift()()}function Ji(){ir=!0}function or(t,e){return Array.isArray(e)?xr(t,e.join(" ")):typeof e=="object"&&e!==null?Ki(t,e):typeof e=="function"?or(t,e()):xr(t,e)}function xr(t,e){let r=i=>i.split(" ").filter(s=>!t.classList.contains(s)).filter(Boolean),n=i=>(t.classList.add(...i),()=>{t.classList.remove(...i)});return e=e===!0?e="":e||"",n(r(e))}function Ki(t,e){let r=a=>a.split(" ").filter(Boolean),n=Object.entries(e).flatMap(([a,c])=>c?r(a):!1).filter(Boolean),i=Object.entries(e).flatMap(([a,c])=>c?!1:r(a)).filter(Boolean),s=[],o=[];return i.forEach(a=>{t.classList.contains(a)&&(t.classList.remove(a),o.push(a))}),n.forEach(a=>{t.classList.contains(a)||(t.classList.add(a),s.push(a))}),()=>{o.forEach(a=>t.classList.add(a)),s.forEach(a=>t.classList.remove(a))}}function Ze(t,e){return typeof e=="object"&&e!==null?Gi(t,e):Wi(t,e)}function Gi(t,e){let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=t.style[n],n.startsWith("--")||(n=Vi(n)),t.style.setProperty(n,i)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{Ze(t,r)}}function Wi(t,e){let r=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",r||"")}}function Vi(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Mt(t,e=()=>{}){let r=!1;return function(){r?e.apply(this,arguments):(r=!0,t.apply(this,arguments))}}k("transition",(t,{value:e,modifiers:r,expression:n},{evaluate:i})=>{typeof n=="function"&&(n=i(n)),n?Yi(t,n,e):Xi(t,r,e)});function Yi(t,e,r){yn(t,or,""),{enter:i=>{t._x_transition.enter.during=i},"enter-start":i=>{t._x_transition.enter.start=i},"enter-end":i=>{t._x_transition.enter.end=i},leave:i=>{t._x_transition.leave.during=i},"leave-start":i=>{t._x_transition.leave.start=i},"leave-end":i=>{t._x_transition.leave.end=i}}[r](e)}function Xi(t,e,r){yn(t,Ze);let n=!e.includes("in")&&!e.includes("out")&&!r,i=n||e.includes("in")||["enter"].includes(r),s=n||e.includes("out")||["leave"].includes(r);e.includes("in")&&!n&&(e=e.filter((y,E)=>E<e.indexOf("out"))),e.includes("out")&&!n&&(e=e.filter((y,E)=>E>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),a=o||e.includes("opacity"),c=o||e.includes("scale"),l=a?0:1,u=c?Oe(e,"scale",95)/100:1,h=Oe(e,"delay",0),f=Oe(e,"origin","center"),v="opacity, transform",g=Oe(e,"duration",150)/1e3,w=Oe(e,"duration",75)/1e3,p="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(t._x_transition.enter.during={transformOrigin:f,transitionDelay:h,transitionProperty:v,transitionDuration:`${g}s`,transitionTimingFunction:p},t._x_transition.enter.start={opacity:l,transform:`scale(${u})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(t._x_transition.leave.during={transformOrigin:f,transitionDelay:h,transitionProperty:v,transitionDuration:`${w}s`,transitionTimingFunction:p},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:l,transform:`scale(${u})`})}function yn(t,e,r={}){t._x_transition||(t._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(n=()=>{},i=()=>{}){Ft(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,i)},out(n=()=>{},i=()=>{}){Ft(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,i)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,r,n){const i=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let s=()=>i(r);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(r):s():t._x_transition?t._x_transition.in(r):s();return}t._x_hidePromise=t._x_transition?new Promise((o,a)=>{t._x_transition.out(()=>{},()=>o(n)),t._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(n),queueMicrotask(()=>{let o=mn(t);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(t)):i(()=>{let a=c=>{let l=Promise.all([c._x_hidePromise,...(c._x_hideChildren||[]).map(a)]).then(([u])=>u());return delete c._x_hidePromise,delete c._x_hideChildren,l};a(t).catch(c=>{if(!c.isFromCancelledTransition)throw c})})})};function mn(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:mn(e)}function Ft(t,e,{during:r,start:n,end:i}={},s=()=>{},o=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(r).length===0&&Object.keys(n).length===0&&Object.keys(i).length===0){s(),o();return}let a,c,l;Qi(t,{start(){a=e(t,n)},during(){c=e(t,r)},before:s,end(){a(),l=e(t,i)},after:o,cleanup(){c(),l()}})}function Qi(t,e){let r,n,i,s=Mt(()=>{C(()=>{r=!0,n||e.before(),i||(e.end(),Nt()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:Mt(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},C(()=>{e.start(),e.during()}),Ji(),requestAnimationFrame(()=>{if(r)return;let o=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),C(()=>{e.before()}),n=!0,requestAnimationFrame(()=>{r||(C(()=>{e.end()}),Nt(),setTimeout(t._x_transitioning.finish,o+a),i=!0)})})}function Oe(t,e,r){if(t.indexOf(e)===-1)return r;const n=t[t.indexOf(e)+1];if(!n||e==="scale"&&isNaN(n))return r;if(e==="duration"){let i=n.match(/([0-9]+)ms/);if(i)return i[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[n,t[t.indexOf(e)+2]].join(" "):n}var Le=!1;function Be(t,e=()=>{}){return(...r)=>Le?e(...r):t(...r)}function Zi(t){return(...e)=>Le&&t(...e)}function es(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),Le=!0,rs(()=>{ts(e)}),Le=!1}function ts(t){let e=!1;Y(t,(n,i)=>{V(n,(s,o)=>{if(e&&Hi(s))return o();e=!0,i(s,o)})})}function rs(t){let e=we;br((r,n)=>{let i=e(r);return Ne(i),()=>{}}),t(),br(e)}function bn(t,e,r,n=[]){switch(t._x_bindings||(t._x_bindings=be({})),t._x_bindings[e]=r,e=n.includes("camel")?ls(e):e,e){case"value":ns(t,r);break;case"style":ss(t,r);break;case"class":is(t,r);break;default:os(t,e,r);break}}function ns(t,e){if(t.type==="radio")t.attributes.value===void 0&&(t.value=e),window.fromModel&&(t.checked=Er(t.value,e));else if(t.type==="checkbox")Number.isInteger(e)?t.value=e:!Number.isInteger(e)&&!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(r=>Er(r,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")cs(t,e);else{if(t.value===e)return;t.value=e}}function is(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=or(t,e)}function ss(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=Ze(t,e)}function os(t,e,r){[null,void 0,!1].includes(r)&&us(e)?t.removeAttribute(e):(wn(e)&&(r=e),as(t,e,r))}function as(t,e,r){t.getAttribute(e)!=r&&t.setAttribute(e,r)}function cs(t,e){const r=[].concat(e).map(n=>n+"");Array.from(t.options).forEach(n=>{n.selected=r.includes(n.value)})}function ls(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function Er(t,e){return t==e}function wn(t){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(t)}function us(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function hs(t,e,r){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];let n=t.getAttribute(e);return n===null?typeof r=="function"?r():r:n===""?!0:wn(e)?!![e,"true"].includes(n):n}function xn(t,e){var r;return function(){var n=this,i=arguments,s=function(){r=null,t.apply(n,i)};clearTimeout(r),r=setTimeout(s,e)}}function En(t,e){let r;return function(){let n=this,i=arguments;r||(t.apply(n,i),r=!0,setTimeout(()=>r=!1,e))}}function ds(t){t(qe)}var ee={},Sr=!1;function fs(t,e){if(Sr||(ee=be(ee),Sr=!0),e===void 0)return ee[t];ee[t]=e,typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&ee[t].init(),Yr(ee[t])}function ps(){return ee}var Sn={};function _s(t,e){let r=typeof e!="function"?()=>e:e;t instanceof Element?On(t,r()):Sn[t]=r}function vs(t){return Object.entries(Sn).forEach(([e,r])=>{Object.defineProperty(t,e,{get(){return(...n)=>r(...n)}})}),t}function On(t,e,r){let n=[];for(;n.length;)n.pop()();let i=Object.entries(e).map(([o,a])=>({name:o,value:a})),s=tn(i);i=i.map(o=>s.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),tr(t,i,r).map(o=>{n.push(o.runCleanups),o()})}var Tn={};function gs(t,e){Tn[t]=e}function ys(t,e){return Object.entries(Tn).forEach(([r,n])=>{Object.defineProperty(t,r,{get(){return(...i)=>n.bind(e)(...i)},enumerable:!1})}),t}var ms={get reactive(){return be},get release(){return Ne},get effect(){return we},get raw(){return qr},version:"3.12.0",flushAndStopDeferringMutations:ji,dontAutoEvaluateFunctions:Pi,disableEffectScheduling:bi,startObservingMutations:Xt,stopObservingMutations:Wr,setReactivityEngine:wi,closestDataStack:ve,skipDuringClone:Be,onlyDuringClone:Zi,addRootSelector:pn,addInitSelector:_n,addScopeToNode:Me,deferMutations:$i,mapAttributes:rr,evaluateLater:I,interceptInit:zi,setEvaluator:Ri,mergeProxies:Fe,findClosest:Qe,closestRoot:Xe,destroyTree:gn,interceptor:Xr,transition:Ft,setStyles:Ze,mutateDom:C,directive:k,throttle:En,debounce:xn,evaluate:_e,initTree:Y,nextTick:sr,prefixed:xe,prefix:Ui,plugin:ds,magic:B,store:fs,start:qi,clone:es,bound:hs,$data:Vr,walk:V,data:gs,bind:_s},qe=ms;function bs(t,e){const r=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return e?i=>!!r[i.toLowerCase()]:i=>!!r[i]}var ws=Object.freeze({}),An=Object.assign,xs=Object.prototype.hasOwnProperty,et=(t,e)=>xs.call(t,e),ce=Array.isArray,Pe=t=>$n(t)==="[object Map]",Es=t=>typeof t=="string",ar=t=>typeof t=="symbol",tt=t=>t!==null&&typeof t=="object",Ss=Object.prototype.toString,$n=t=>Ss.call(t),jn=t=>$n(t).slice(8,-1),cr=t=>Es(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Os=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Ts=Os(t=>t.charAt(0).toUpperCase()+t.slice(1)),kn=(t,e)=>t!==e&&(t===t||e===e),Bt=new WeakMap,Te=[],J,le=Symbol("iterate"),qt=Symbol("Map key iterate");function As(t){return t&&t._isEffect===!0}function $s(t,e=ws){As(t)&&(t=t.raw);const r=Cs(t,e);return e.lazy||r(),r}function js(t){t.active&&(Cn(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var ks=0;function Cs(t,e){const r=function(){if(!r.active)return t();if(!Te.includes(r)){Cn(r);try{return Rs(),Te.push(r),J=r,t()}finally{Te.pop(),Pn(),J=Te[Te.length-1]}}};return r.id=ks++,r.allowRecurse=!!e.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=t,r.deps=[],r.options=e,r}function Cn(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}var ye=!0,lr=[];function Ps(){lr.push(ye),ye=!1}function Rs(){lr.push(ye),ye=!0}function Pn(){const t=lr.pop();ye=t===void 0?!0:t}function F(t,e,r){if(!ye||J===void 0)return;let n=Bt.get(t);n||Bt.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=new Set),i.has(J)||(i.add(J),J.deps.push(i),J.options.onTrack&&J.options.onTrack({effect:J,target:t,type:e,key:r}))}function X(t,e,r,n,i,s){const o=Bt.get(t);if(!o)return;const a=new Set,c=u=>{u&&u.forEach(h=>{(h!==J||h.allowRecurse)&&a.add(h)})};if(e==="clear")o.forEach(c);else if(r==="length"&&ce(t))o.forEach((u,h)=>{(h==="length"||h>=n)&&c(u)});else switch(r!==void 0&&c(o.get(r)),e){case"add":ce(t)?cr(r)&&c(o.get("length")):(c(o.get(le)),Pe(t)&&c(o.get(qt)));break;case"delete":ce(t)||(c(o.get(le)),Pe(t)&&c(o.get(qt)));break;case"set":Pe(t)&&c(o.get(le));break}const l=u=>{u.options.onTrigger&&u.options.onTrigger({effect:u,target:t,key:r,type:e,newValue:n,oldValue:i,oldTarget:s}),u.options.scheduler?u.options.scheduler(u):u()};a.forEach(l)}var Is=bs("__proto__,__v_isRef,__isVue"),Rn=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(ar)),Ds=rt(),Ls=rt(!1,!0),Us=rt(!0),Ns=rt(!0,!0),Ve={};["includes","indexOf","lastIndexOf"].forEach(t=>{const e=Array.prototype[t];Ve[t]=function(...r){const n=j(this);for(let s=0,o=this.length;s<o;s++)F(n,"get",s+"");const i=e.apply(n,r);return i===-1||i===!1?e.apply(n,r.map(j)):i}});["push","pop","shift","unshift","splice"].forEach(t=>{const e=Array.prototype[t];Ve[t]=function(...r){Ps();const n=e.apply(this,r);return Pn(),n}});function rt(t=!1,e=!1){return function(n,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_raw"&&s===(t?e?Ws:Wn:e?Gs:Gn).get(n))return n;const o=ce(n);if(!t&&o&&et(Ve,i))return Reflect.get(Ve,i,s);const a=Reflect.get(n,i,s);return(ar(i)?Rn.has(i):Is(i))||(t||F(n,"get",i),e)?a:Ht(a)?!o||!cr(i)?a.value:a:tt(a)?t?Vn(a):fr(a):a}}var Ms=In(),Fs=In(!0);function In(t=!1){return function(r,n,i,s){let o=r[n];if(!t&&(i=j(i),o=j(o),!ce(r)&&Ht(o)&&!Ht(i)))return o.value=i,!0;const a=ce(r)&&cr(n)?Number(n)<r.length:et(r,n),c=Reflect.set(r,n,i,s);return r===j(s)&&(a?kn(i,o)&&X(r,"set",n,i,o):X(r,"add",n,i)),c}}function Bs(t,e){const r=et(t,e),n=t[e],i=Reflect.deleteProperty(t,e);return i&&r&&X(t,"delete",e,void 0,n),i}function qs(t,e){const r=Reflect.has(t,e);return(!ar(e)||!Rn.has(e))&&F(t,"has",e),r}function Hs(t){return F(t,"iterate",ce(t)?"length":le),Reflect.ownKeys(t)}var Dn={get:Ds,set:Ms,deleteProperty:Bs,has:qs,ownKeys:Hs},Ln={get:Us,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}};An({},Dn,{get:Ls,set:Fs});An({},Ln,{get:Ns});var ur=t=>tt(t)?fr(t):t,hr=t=>tt(t)?Vn(t):t,dr=t=>t,nt=t=>Reflect.getPrototypeOf(t);function it(t,e,r=!1,n=!1){t=t.__v_raw;const i=j(t),s=j(e);e!==s&&!r&&F(i,"get",e),!r&&F(i,"get",s);const{has:o}=nt(i),a=n?dr:r?hr:ur;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function st(t,e=!1){const r=this.__v_raw,n=j(r),i=j(t);return t!==i&&!e&&F(n,"has",t),!e&&F(n,"has",i),t===i?r.has(t):r.has(t)||r.has(i)}function ot(t,e=!1){return t=t.__v_raw,!e&&F(j(t),"iterate",le),Reflect.get(t,"size",t)}function Un(t){t=j(t);const e=j(this);return nt(e).has.call(e,t)||(e.add(t),X(e,"add",t,t)),this}function Nn(t,e){e=j(e);const r=j(this),{has:n,get:i}=nt(r);let s=n.call(r,t);s?Kn(r,n,t):(t=j(t),s=n.call(r,t));const o=i.call(r,t);return r.set(t,e),s?kn(e,o)&&X(r,"set",t,e,o):X(r,"add",t,e),this}function Mn(t){const e=j(this),{has:r,get:n}=nt(e);let i=r.call(e,t);i?Kn(e,r,t):(t=j(t),i=r.call(e,t));const s=n?n.call(e,t):void 0,o=e.delete(t);return i&&X(e,"delete",t,void 0,s),o}function Fn(){const t=j(this),e=t.size!==0,r=Pe(t)?new Map(t):new Set(t),n=t.clear();return e&&X(t,"clear",void 0,void 0,r),n}function at(t,e){return function(n,i){const s=this,o=s.__v_raw,a=j(o),c=e?dr:t?hr:ur;return!t&&F(a,"iterate",le),o.forEach((l,u)=>n.call(i,c(l),c(u),s))}}function ze(t,e,r){return function(...n){const i=this.__v_raw,s=j(i),o=Pe(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=i[t](...n),u=r?dr:e?hr:ur;return!e&&F(s,"iterate",c?qt:le),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function W(t){return function(...e){{const r=e[0]?`on key "${e[0]}" `:"";console.warn(`${Ts(t)} operation ${r}failed: target is readonly.`,j(this))}return t==="delete"?!1:this}}var Bn={get(t){return it(this,t)},get size(){return ot(this)},has:st,add:Un,set:Nn,delete:Mn,clear:Fn,forEach:at(!1,!1)},qn={get(t){return it(this,t,!1,!0)},get size(){return ot(this)},has:st,add:Un,set:Nn,delete:Mn,clear:Fn,forEach:at(!1,!0)},Hn={get(t){return it(this,t,!0)},get size(){return ot(this,!0)},has(t){return st.call(this,t,!0)},add:W("add"),set:W("set"),delete:W("delete"),clear:W("clear"),forEach:at(!0,!1)},zn={get(t){return it(this,t,!0,!0)},get size(){return ot(this,!0)},has(t){return st.call(this,t,!0)},add:W("add"),set:W("set"),delete:W("delete"),clear:W("clear"),forEach:at(!0,!0)},zs=["keys","values","entries",Symbol.iterator];zs.forEach(t=>{Bn[t]=ze(t,!1,!1),Hn[t]=ze(t,!0,!1),qn[t]=ze(t,!1,!0),zn[t]=ze(t,!0,!0)});function Jn(t,e){const r=e?t?zn:qn:t?Hn:Bn;return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(et(r,i)&&i in n?r:n,i,s)}var Js={get:Jn(!1,!1)},Ks={get:Jn(!0,!1)};function Kn(t,e,r){const n=j(r);if(n!==r&&e.call(t,n)){const i=jn(t);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Gn=new WeakMap,Gs=new WeakMap,Wn=new WeakMap,Ws=new WeakMap;function Vs(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ys(t){return t.__v_skip||!Object.isExtensible(t)?0:Vs(jn(t))}function fr(t){return t&&t.__v_isReadonly?t:Yn(t,!1,Dn,Js,Gn)}function Vn(t){return Yn(t,!0,Ln,Ks,Wn)}function Yn(t,e,r,n,i){if(!tt(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=Ys(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return i.set(t,a),a}function j(t){return t&&j(t.__v_raw)||t}function Ht(t){return!!(t&&t.__v_isRef===!0)}B("nextTick",()=>sr);B("dispatch",t=>Ce.bind(Ce,t));B("watch",(t,{evaluateLater:e,effect:r})=>(n,i)=>{let s=e(n),o=!0,a,c=r(()=>s(l=>{JSON.stringify(l),o?a=l:queueMicrotask(()=>{i(l,a),a=l}),o=!1}));t._x_effects.delete(c)});B("store",ps);B("data",t=>Vr(t));B("root",t=>Xe(t));B("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=Fe(Xs(t))),t._x_refs_proxy));function Xs(t){let e=[],r=t;for(;r;)r._x_refs&&e.push(r._x_refs),r=r.parentNode;return e}var yt={};function Xn(t){return yt[t]||(yt[t]=0),++yt[t]}function Qs(t,e){return Qe(t,r=>{if(r._x_ids&&r._x_ids[e])return!0})}function Zs(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=Xn(e))}B("id",t=>(e,r=null)=>{let n=Qs(t,e),i=n?n._x_ids[e]:Xn(e);return r?`${e}-${i}-${r}`:`${e}-${i}`});B("el",t=>t);Qn("Focus","focus","focus");Qn("Persist","persist","persist");function Qn(t,e,r){B(e,n=>ge(`You can't use [$${directiveName}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,n))}function eo({get:t,set:e},{get:r,set:n}){let i=!0,s,o,a=we(()=>{let c,l;i?(c=t(),n(c),l=r(),i=!1):(c=t(),l=r(),o=JSON.stringify(c),JSON.stringify(l),o!==s?(l=r(),n(c),l=c):(e(l),c=l)),s=JSON.stringify(c),JSON.stringify(l)});return()=>{Ne(a)}}k("modelable",(t,{expression:e},{effect:r,evaluateLater:n,cleanup:i})=>{let s=n(e),o=()=>{let u;return s(h=>u=h),u},a=n(`${e} = __placeholder`),c=u=>a(()=>{},{scope:{__placeholder:u}}),l=o();c(l),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let u=t._x_model.get,h=t._x_model.set,f=eo({get(){return u()},set(v){h(v)}},{get(){return o()},set(v){c(v)}});i(f)})});var to=document.createElement("div");k("teleport",(t,{modifiers:e,expression:r},{cleanup:n})=>{t.tagName.toLowerCase()!=="template"&&ge("x-teleport can only be used on a <template> tag",t);let i=Be(()=>document.querySelector(r),()=>to)();i||ge(`Cannot find x-teleport element for selector: "${r}"`);let s=t.content.cloneNode(!0).firstElementChild;t._x_teleport=s,s._x_teleportBack=t,t._x_forwardEvents&&t._x_forwardEvents.forEach(o=>{s.addEventListener(o,a=>{a.stopPropagation(),t.dispatchEvent(new a.constructor(a.type,a))})}),Me(s,{},t),C(()=>{e.includes("prepend")?i.parentNode.insertBefore(s,i):e.includes("append")?i.parentNode.insertBefore(s,i.nextSibling):i.appendChild(s),Y(s),s._x_ignore=!0}),n(()=>s.remove())});var Zn=()=>{};Zn.inline=(t,{modifiers:e},{cleanup:r})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,r(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};k("ignore",Zn);k("effect",(t,{expression:e},{effect:r})=>r(I(t,e)));function zt(t,e,r,n){let i=t,s=c=>n(c),o={},a=(c,l)=>u=>l(c,u);if(r.includes("dot")&&(e=ro(e)),r.includes("camel")&&(e=no(e)),r.includes("passive")&&(o.passive=!0),r.includes("capture")&&(o.capture=!0),r.includes("window")&&(i=window),r.includes("document")&&(i=document),r.includes("prevent")&&(s=a(s,(c,l)=>{l.preventDefault(),c(l)})),r.includes("stop")&&(s=a(s,(c,l)=>{l.stopPropagation(),c(l)})),r.includes("self")&&(s=a(s,(c,l)=>{l.target===t&&c(l)})),(r.includes("away")||r.includes("outside"))&&(i=document,s=a(s,(c,l)=>{t.contains(l.target)||l.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&c(l))})),r.includes("once")&&(s=a(s,(c,l)=>{c(l),i.removeEventListener(e,s,o)})),s=a(s,(c,l)=>{so(e)&&oo(l,r)||c(l)}),r.includes("debounce")){let c=r[r.indexOf("debounce")+1]||"invalid-wait",l=Ye(c.split("ms")[0])?Number(c.split("ms")[0]):250;s=xn(s,l)}if(r.includes("throttle")){let c=r[r.indexOf("throttle")+1]||"invalid-wait",l=Ye(c.split("ms")[0])?Number(c.split("ms")[0]):250;s=En(s,l)}return i.addEventListener(e,s,o),()=>{i.removeEventListener(e,s,o)}}function ro(t){return t.replace(/-/g,".")}function no(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function Ye(t){return!Array.isArray(t)&&!isNaN(t)}function io(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function so(t){return["keydown","keyup"].includes(t)}function oo(t,e){let r=e.filter(s=>!["window","document","prevent","stop","once","capture"].includes(s));if(r.includes("debounce")){let s=r.indexOf("debounce");r.splice(s,Ye((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.includes("throttle")){let s=r.indexOf("throttle");r.splice(s,Ye((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.length===0||r.length===1&&Or(t.key).includes(r[0]))return!1;const i=["ctrl","shift","alt","meta","cmd","super"].filter(s=>r.includes(s));return r=r.filter(s=>!i.includes(s)),!(i.length>0&&i.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),t[`${o}Key`])).length===i.length&&Or(t.key).includes(r[0]))}function Or(t){if(!t)return[];t=io(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(r=>{if(e[r]===t)return r}).filter(r=>r)}k("model",(t,{modifiers:e,expression:r},{effect:n,cleanup:i})=>{let s=t;e.includes("parent")&&(s=t.parentNode);let o=I(s,r),a;typeof r=="string"?a=I(s,`${r} = __placeholder`):typeof r=="function"&&typeof r()=="string"?a=I(s,`${r()} = __placeholder`):a=()=>{};let c=()=>{let f;return o(v=>f=v),Tr(f)?f.get():f},l=f=>{let v;o(g=>v=g),Tr(v)?v.set(f):a(()=>{},{scope:{__placeholder:f}})};e.includes("fill")&&t.hasAttribute("value")&&(c()===null||c()==="")&&l(t.value),typeof r=="string"&&t.type==="radio"&&C(()=>{t.hasAttribute("name")||t.setAttribute("name",r)});var u=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let h=Le?()=>{}:zt(t,u,e,f=>{l(ao(t,e,f,c()))});if(t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=h,i(()=>t._x_removeModelListeners.default()),t.form){let f=zt(t.form,"reset",[],v=>{sr(()=>t._x_model&&t._x_model.set(t.value))});i(()=>f())}t._x_model={get(){return c()},set(f){l(f)}},t._x_forceModelUpdate=f=>{f=f===void 0?c():f,f===void 0&&typeof r=="string"&&r.match(/\./)&&(f=""),window.fromModel=!0,C(()=>bn(t,"value",f)),delete window.fromModel},n(()=>{let f=c();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(f)})});function ao(t,e,r,n){return C(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return typeof r.detail<"u"?r.detail:r.target.value;if(t.type==="checkbox")if(Array.isArray(n)){let i=e.includes("number")?mt(r.target.value):r.target.value;return r.target.checked?n.concat([i]):n.filter(s=>!co(s,i))}else return r.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(r.target.selectedOptions).map(i=>{let s=i.value||i.text;return mt(s)}):Array.from(r.target.selectedOptions).map(i=>i.value||i.text);{let i=r.target.value;return e.includes("number")?mt(i):e.includes("trim")?i.trim():i}}})}function mt(t){let e=t?parseFloat(t):null;return lo(e)?e:t}function co(t,e){return t==e}function lo(t){return!Array.isArray(t)&&!isNaN(t)}function Tr(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}k("cloak",t=>queueMicrotask(()=>C(()=>t.removeAttribute(xe("cloak")))));_n(()=>`[${xe("init")}]`);k("init",Be((t,{expression:e},{evaluate:r})=>typeof e=="string"?!!e.trim()&&r(e,{},!1):r(e,{},!1)));k("text",(t,{expression:e},{effect:r,evaluateLater:n})=>{let i=n(e);r(()=>{i(s=>{C(()=>{t.textContent=s})})})});k("html",(t,{expression:e},{effect:r,evaluateLater:n})=>{let i=n(e);r(()=>{i(s=>{C(()=>{t.innerHTML=s,t._x_ignoreSelf=!0,Y(t),delete t._x_ignoreSelf})})})});rr(sn(":",on(xe("bind:"))));k("bind",(t,{value:e,modifiers:r,expression:n,original:i},{effect:s})=>{if(!e){let a={};vs(a),I(t,n)(l=>{On(t,l,i)},{scope:a});return}if(e==="key")return uo(t,n);let o=I(t,n);s(()=>o(a=>{a===void 0&&typeof n=="string"&&n.match(/\./)&&(a=""),C(()=>bn(t,e,a,r))}))});function uo(t,e){t._x_keyExpression=e}pn(()=>`[${xe("data")}]`);k("data",Be((t,{expression:e},{cleanup:r})=>{e=e===""?"{}":e;let n={};Rt(n,t);let i={};ys(i,n);let s=_e(t,e,{scope:i});(s===void 0||s===!0)&&(s={}),Rt(s,t);let o=be(s);Yr(o);let a=Me(t,o);o.init&&_e(t,o.init),r(()=>{o.destroy&&_e(t,o.destroy),a()})}));k("show",(t,{modifiers:e,expression:r},{effect:n})=>{let i=I(t,r);t._x_doHide||(t._x_doHide=()=>{C(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{C(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let s=()=>{t._x_doHide(),t._x_isShown=!1},o=()=>{t._x_doShow(),t._x_isShown=!0},a=()=>setTimeout(o),c=Mt(h=>h?o():s(),h=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,h,o,s):h?a():s()}),l,u=!0;n(()=>i(h=>{!u&&h===l||(e.includes("immediate")&&(h?a():s()),c(h),l=h,u=!1)}))});k("for",(t,{expression:e},{effect:r,cleanup:n})=>{let i=fo(e),s=I(t,i.items),o=I(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},r(()=>ho(t,i,s,o)),n(()=>{Object.values(t._x_lookup).forEach(a=>a.remove()),delete t._x_prevKeys,delete t._x_lookup})});function ho(t,e,r,n){let i=o=>typeof o=="object"&&!Array.isArray(o),s=t;r(o=>{po(o)&&o>=0&&(o=Array.from(Array(o).keys(),p=>p+1)),o===void 0&&(o=[]);let a=t._x_lookup,c=t._x_prevKeys,l=[],u=[];if(i(o))o=Object.entries(o).map(([p,y])=>{let E=Ar(e,y,p,o);n($=>u.push($),{scope:{index:p,...E}}),l.push(E)});else for(let p=0;p<o.length;p++){let y=Ar(e,o[p],p,o);n(E=>u.push(E),{scope:{index:p,...y}}),l.push(y)}let h=[],f=[],v=[],g=[];for(let p=0;p<c.length;p++){let y=c[p];u.indexOf(y)===-1&&v.push(y)}c=c.filter(p=>!v.includes(p));let w="template";for(let p=0;p<u.length;p++){let y=u[p],E=c.indexOf(y);if(E===-1)c.splice(p,0,y),h.push([w,p]);else if(E!==p){let $=c.splice(p,1)[0],S=c.splice(E-1,1)[0];c.splice(p,0,S),c.splice(E,0,$),f.push([$,S])}else g.push(y);w=y}for(let p=0;p<v.length;p++){let y=v[p];a[y]._x_effects&&a[y]._x_effects.forEach(Br),a[y].remove(),a[y]=null,delete a[y]}for(let p=0;p<f.length;p++){let[y,E]=f[p],$=a[y],S=a[E],D=document.createElement("div");C(()=>{S.after(D),$.after(S),S._x_currentIfEl&&S.after(S._x_currentIfEl),D.before($),$._x_currentIfEl&&$.after($._x_currentIfEl),D.remove()}),wr(S,l[u.indexOf(E)])}for(let p=0;p<h.length;p++){let[y,E]=h[p],$=y==="template"?s:a[y];$._x_currentIfEl&&($=$._x_currentIfEl);let S=l[E],D=u[E],de=document.importNode(s.content,!0).firstElementChild;Me(de,be(S),s),C(()=>{$.after(de),Y(de)}),typeof D=="object"&&ge("x-for key cannot be an object, it must be a string or an integer",s),a[D]=de}for(let p=0;p<g.length;p++)wr(a[g[p]],l[u.indexOf(g[p])]);s._x_prevKeys=u})}function fo(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=/^\s*\(|\)\s*$/g,n=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=t.match(n);if(!i)return;let s={};s.items=i[2].trim();let o=i[1].replace(r,"").trim(),a=o.match(e);return a?(s.item=o.replace(e,"").trim(),s.index=a[1].trim(),a[2]&&(s.collection=a[2].trim())):s.item=o,s}function Ar(t,e,r,n){let i={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{i[o]=e[a]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{i[o]=e[o]}):i[t.item]=e,t.index&&(i[t.index]=r),t.collection&&(i[t.collection]=n),i}function po(t){return!Array.isArray(t)&&!isNaN(t)}function ei(){}ei.inline=(t,{expression:e},{cleanup:r})=>{let n=Xe(t);n._x_refs||(n._x_refs={}),n._x_refs[e]=t,r(()=>delete n._x_refs[e])};k("ref",ei);k("if",(t,{expression:e},{effect:r,cleanup:n})=>{let i=I(t,e),s=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let a=t.content.cloneNode(!0).firstElementChild;return Me(a,{},t),C(()=>{t.after(a),Y(a)}),t._x_currentIfEl=a,t._x_undoIf=()=>{V(a,c=>{c._x_effects&&c._x_effects.forEach(Br)}),a.remove(),delete t._x_currentIfEl},a},o=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};r(()=>i(a=>{a?s():o()})),n(()=>t._x_undoIf&&t._x_undoIf())});k("id",(t,{expression:e},{evaluate:r})=>{r(e).forEach(i=>Zs(t,i))});rr(sn("@",on(xe("on:"))));k("on",Be((t,{value:e,modifiers:r,expression:n},{cleanup:i})=>{let s=n?I(t,n):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let o=zt(t,e,r,a=>{s(()=>{},{scope:{$event:a},params:[a]})});i(()=>o())}));ct("Collapse","collapse","collapse");ct("Intersect","intersect","intersect");ct("Focus","trap","focus");ct("Mask","mask","mask");function ct(t,e,r){k(e,n=>ge(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,n))}qe.setEvaluator(en);qe.setReactivityEngine({reactive:fr,effect:$s,release:js,raw:j});var _o=qe,ue=_o;const vo="modulepreload",go=function(t){return"/"+t},$r={},lt=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=go(s),s in $r)return;$r[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":vo,o||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),o)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};var yo=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const mo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yo(void 0,void 0,void 0,function*(){return yield(yield lt(()=>Promise.resolve().then(()=>ut),void 0)).fetch(...r)}):e=fetch,(...r)=>e(...r)};class pr extends Error{constructor(e,r="FunctionsError",n){super(e),super.name=r,this.context=n}}class bo extends pr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wo extends pr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xo extends pr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Eo=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};class So{constructor(e,{headers:r={},customFetch:n}={}){this.url=e,this.headers=r,this.fetch=mo(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Eo(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let a={},c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const l=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(v=>{throw new bo(v)}),u=l.headers.get("x-relay-error");if(u&&u==="true")throw new wo(l);if(!l.ok)throw new xo(l);let h=((n=l.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield l.json():h==="application/octet-stream"?f=yield l.blob():h==="multipart/form-data"?f=yield l.formData():f=yield l.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function To(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var me={},Ao={get exports(){return me},set exports(t){me=t}};(function(t,e){var r=typeof self<"u"?self:Oo,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c(d){return d&&DataView.prototype.isPrototypeOf(d)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(d){return d&&l.indexOf(Object.prototype.toString.call(d))>-1};function h(d){if(typeof d!="string"&&(d=String(d)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(d))throw new TypeError("Invalid character in header field name");return d.toLowerCase()}function f(d){return typeof d!="string"&&(d=String(d)),d}function v(d){var _={next:function(){var b=d.shift();return{done:b===void 0,value:b}}};return a.iterable&&(_[Symbol.iterator]=function(){return _}),_}function g(d){this.map={},d instanceof g?d.forEach(function(_,b){this.append(b,_)},this):Array.isArray(d)?d.forEach(function(_){this.append(_[0],_[1])},this):d&&Object.getOwnPropertyNames(d).forEach(function(_){this.append(_,d[_])},this)}g.prototype.append=function(d,_){d=h(d),_=f(_);var b=this.map[d];this.map[d]=b?b+", "+_:_},g.prototype.delete=function(d){delete this.map[h(d)]},g.prototype.get=function(d){return d=h(d),this.has(d)?this.map[d]:null},g.prototype.has=function(d){return this.map.hasOwnProperty(h(d))},g.prototype.set=function(d,_){this.map[h(d)]=f(_)},g.prototype.forEach=function(d,_){for(var b in this.map)this.map.hasOwnProperty(b)&&d.call(_,this.map[b],b,this)},g.prototype.keys=function(){var d=[];return this.forEach(function(_,b){d.push(b)}),v(d)},g.prototype.values=function(){var d=[];return this.forEach(function(_){d.push(_)}),v(d)},g.prototype.entries=function(){var d=[];return this.forEach(function(_,b){d.push([b,_])}),v(d)},a.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function w(d){if(d.bodyUsed)return Promise.reject(new TypeError("Already read"));d.bodyUsed=!0}function p(d){return new Promise(function(_,b){d.onload=function(){_(d.result)},d.onerror=function(){b(d.error)}})}function y(d){var _=new FileReader,b=p(_);return _.readAsArrayBuffer(d),b}function E(d){var _=new FileReader,b=p(_);return _.readAsText(d),b}function $(d){for(var _=new Uint8Array(d),b=new Array(_.length),R=0;R<_.length;R++)b[R]=String.fromCharCode(_[R]);return b.join("")}function S(d){if(d.slice)return d.slice(0);var _=new Uint8Array(d.byteLength);return _.set(new Uint8Array(d)),_.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(d){this._bodyInit=d,d?typeof d=="string"?this._bodyText=d:a.blob&&Blob.prototype.isPrototypeOf(d)?this._bodyBlob=d:a.formData&&FormData.prototype.isPrototypeOf(d)?this._bodyFormData=d:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)?this._bodyText=d.toString():a.arrayBuffer&&a.blob&&c(d)?(this._bodyArrayBuffer=S(d.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(d)||u(d))?this._bodyArrayBuffer=S(d):this._bodyText=d=Object.prototype.toString.call(d):this._bodyText="",this.headers.get("content-type")||(typeof d=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var d=w(this);if(d)return d;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?w(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var d=w(this);if(d)return d;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve($(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(di)}),this.json=function(){return this.text().then(JSON.parse)},this}var de=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function hi(d){var _=d.toUpperCase();return de.indexOf(_)>-1?_:d}function Q(d,_){_=_||{};var b=_.body;if(d instanceof Q){if(d.bodyUsed)throw new TypeError("Already read");this.url=d.url,this.credentials=d.credentials,_.headers||(this.headers=new g(d.headers)),this.method=d.method,this.mode=d.mode,this.signal=d.signal,!b&&d._bodyInit!=null&&(b=d._bodyInit,d.bodyUsed=!0)}else this.url=String(d);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new g(_.headers)),this.method=hi(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&b)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(b)}Q.prototype.clone=function(){return new Q(this,{body:this._bodyInit})};function di(d){var _=new FormData;return d.trim().split("&").forEach(function(b){if(b){var R=b.split("="),P=R.shift().replace(/\+/g," "),T=R.join("=").replace(/\+/g," ");_.append(decodeURIComponent(P),decodeURIComponent(T))}}),_}function fi(d){var _=new g,b=d.replace(/\r?\n[\t ]+/g," ");return b.split(/\r?\n/).forEach(function(R){var P=R.split(":"),T=P.shift().trim();if(T){var He=P.join(":").trim();_.append(T,He)}}),_}D.call(Q.prototype);function q(d,_){_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in _?_.statusText:"OK",this.headers=new g(_.headers),this.url=_.url||"",this._initBody(d)}D.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},q.error=function(){var d=new q(null,{status:0,statusText:""});return d.type="error",d};var pi=[301,302,303,307,308];q.redirect=function(d,_){if(pi.indexOf(_)===-1)throw new RangeError("Invalid status code");return new q(null,{status:_,headers:{location:d}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(_,b){this.message=_,this.name=b;var R=Error(_);this.stack=R.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function pt(d,_){return new Promise(function(b,R){var P=new Q(d,_);if(P.signal&&P.signal.aborted)return R(new o.DOMException("Aborted","AbortError"));var T=new XMLHttpRequest;function He(){T.abort()}T.onload=function(){var Se={status:T.status,statusText:T.statusText,headers:fi(T.getAllResponseHeaders()||"")};Se.url="responseURL"in T?T.responseURL:Se.headers.get("X-Request-URL");var _t="response"in T?T.response:T.responseText;b(new q(_t,Se))},T.onerror=function(){R(new TypeError("Network request failed"))},T.ontimeout=function(){R(new TypeError("Network request failed"))},T.onabort=function(){R(new o.DOMException("Aborted","AbortError"))},T.open(P.method,P.url,!0),P.credentials==="include"?T.withCredentials=!0:P.credentials==="omit"&&(T.withCredentials=!1),"responseType"in T&&a.blob&&(T.responseType="blob"),P.headers.forEach(function(Se,_t){T.setRequestHeader(_t,Se)}),P.signal&&(P.signal.addEventListener("abort",He),T.onreadystatechange=function(){T.readyState===4&&P.signal.removeEventListener("abort",He)}),T.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}return pt.polyfill=!0,s.fetch||(s.fetch=pt,s.Headers=g,s.Request=Q,s.Response=q),o.Headers=g,o.Request=Q,o.Response=q,o.fetch=pt,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Ao,me);const _r=To(me),ut=_i({__proto__:null,default:_r},[me]);class $o{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.allowEmpty=e.allowEmpty,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=_r:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,c;let l=null,u=null,h=null,f=s.status,v=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),p=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&p&&p.length>1&&(h=parseInt(p[1]))}else{const w=await s.text();try{l=JSON.parse(w),Array.isArray(l)&&s.status===404&&(u=[],l=null,f=200,v="OK")}catch{s.status===404&&w===""?(f=204,v="No Content"):l={message:w}}if(l&&this.allowEmpty&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("Results contain 0 rows"))&&(l=null,f=200,v="OK"),l&&this.shouldThrowOnError)throw l}return{error:l,data:u,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(i=i.catch(s=>({error:{message:`FetchError: ${s.message}`,details:"",hint:"",code:s.code||""},data:null,count:null,status:0,statusText:""}))),i.then(e,r)}}class jo extends $o{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,r,{foreignTable:n}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){const a=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class pe extends jo{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=r.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}}class ko{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new pe({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r}={}){const n="POST",i=[],s=e;if(r&&i.push(`count=${r}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new pe({method:n,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];r!==void 0&&this.url.searchParams.set("on_conflict",r);const a=e;return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new pe({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[],s=e;return r&&i.push(`count=${r}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new pe({method:n,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new pe({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Co="1.5.0",Po={"X-Client-Info":`postgrest-js/${Co}`};class Ro{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Po),r),this.schema=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new ko(r,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(e,r={},{head:n=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let a;n?(s="HEAD",Object.entries(r).forEach(([l,u])=>{o.searchParams.append(l,`${u}`)})):(s="POST",a=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new pe({method:s,url:o,headers:c,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}}var bt,jr;function Io(){if(jr)return bt;jr=1;var t=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return bt=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}(),bt}const Do="websocket@^1.0.34",Lo="websocket@1.0.34",Uo=!1,No="sha512-PRDso2sGwF6kM75QykIesBijKSVceR6jL2G8NGYyq2XrItNC2P5/qL5XeR056GhA+Ly7JMFvJb9I312mJfmqnQ==",Mo="/websocket",Fo={},Bo={type:"range",registry:!0,raw:"websocket@^1.0.34",name:"websocket",escapedName:"websocket",rawSpec:"^1.0.34",saveSpec:null,fetchSpec:"^1.0.34"},qo=["/@supabase/realtime-js"],Ho="https://registry.npmjs.org/websocket/-/websocket-1.0.34.tgz",zo="2bdc2602c08bf2c82253b730655c0ef7dcab3111",Jo="websocket@^1.0.34",Ko="/Users/kristofferhansen/Documents/GitHub/flair-website/node_modules/@supabase/realtime-js",Go={name:"Brian McKelvey",email:"theturtle32@gmail.com",url:"https://github.com/theturtle32"},Wo="lib/browser.js",Vo={url:"https://github.com/theturtle32/WebSocket-Node/issues"},Yo=!1,Xo={verbose:!1},Qo=[{name:"Iaki Baz Castillo",email:"ibc@aliax.net",url:"http://dev.sipdoc.net"}],Zo={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},ea=!1,ta="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",ra={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4",jshint:"^2.0.0","jshint-stylish":"^2.2.1",tape:"^4.9.1"},na={lib:"./lib"},ia={node:">=4.0.0"},sa="https://github.com/theturtle32/WebSocket-Node",oa=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],aa="Apache-2.0",ca="index",la="websocket",ua={type:"git",url:"git+https://github.com/theturtle32/WebSocket-Node.git"},ha={gulp:"gulp",test:"tape test/unit/*.js"},da="1.0.34",fa={_from:Do,_id:Lo,_inBundle:Uo,_integrity:No,_location:Mo,_phantomChildren:Fo,_requested:Bo,_requiredBy:qo,_resolved:Ho,_shasum:zo,_spec:Jo,_where:Ko,author:Go,browser:Wo,bugs:Vo,bundleDependencies:Yo,config:Xo,contributors:Qo,dependencies:Zo,deprecated:ea,description:ta,devDependencies:ra,directories:na,engines:ia,homepage:sa,keywords:oa,license:aa,main:ca,name:la,repository:ua,scripts:ha,version:da};var pa=fa.version,re;if(typeof globalThis=="object")re=globalThis;else try{re=Io()}catch{}finally{if(!re&&typeof window<"u"&&(re=window),!re)throw new Error("Could not determine global this")}var Ue=re.WebSocket||re.MozWebSocket,_a=pa;function ti(t,e){var r;return e?r=new Ue(t,e):r=new Ue(t),r}Ue&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(ti,t,{get:function(){return Ue[t]}})});var va={w3cwebsocket:Ue?ti:null,version:_a};const ga="2.7.1",ya={"X-Client-Info":`realtime-js/${ga}`},ma="1.0.0",ri=1e4,ba=1e3;var Re;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Re||(Re={}));var U;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(U||(U={}));var M;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(M||(M={}));var Jt;(function(t){t.websocket="websocket"})(Jt||(Jt={}));var ne;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ne||(ne={}));class ni{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class wa{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+s));o=o+s;const l=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class wt{constructor(e,r,n={},i=ri){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var kr;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(kr||(kr={}));class Ie{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ie.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=Ie.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ie.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),a={},c={};return this.map(s,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const h=s[l];if(h){const f=u.map(p=>p.presence_ref),v=h.map(p=>p.presence_ref),g=u.filter(p=>v.indexOf(p.presence_ref)<0),w=h.filter(p=>f.indexOf(p.presence_ref)<0);g.length>0&&(a[l]=g),w.length>0&&(c[l]=w)}else a[l]=u}),this.syncDiff(s,{joins:a,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const h=e[a].map(v=>v.presence_ref),f=u.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...f)}n(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(h=>h.presence_ref);l=l.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=l,i(a,l,c),l.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var A;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(A||(A={}));const Cr=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=xa(o,t,e,i),s),{})},xa=(t,e,r,n)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?ii(s,o):Kt(o)},ii=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Ta(e,r)}switch(t){case A.bool:return Ea(e);case A.float4:case A.float8:case A.int2:case A.int4:case A.int8:case A.numeric:case A.oid:return Sa(e);case A.json:case A.jsonb:return Oa(e);case A.timestamp:return Aa(e);case A.abstime:case A.date:case A.daterange:case A.int4range:case A.int8range:case A.money:case A.reltime:case A.text:case A.time:case A.timestamptz:case A.timetz:case A.tsrange:case A.tstzrange:return Kt(e);default:return Kt(e)}},Kt=t=>t,Ea=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Sa=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Oa=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ta=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>ii(e,a))}return t},Aa=t=>typeof t=="string"?t.replace(" ","T"):t;var Pr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})},Rr;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Rr||(Rr={}));var Ir;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(Ir||(Ir={}));var Dr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dr||(Dr={}));class vr{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=U.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},r.config),this.timeout=this.socket.timeout,this.joinPush=new wt(this,M.join,this.params,this.timeout),this.rejoinTimer=new ni(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=U.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=U.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=U.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=U.errored,this.rejoinTimer.scheduleTimeout())}),this._on(M.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ie(this)}subscribe(e,r=this.timeout){var n,i;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(l=>e&&e("CHANNEL_ERROR",l)),this._onClose(()=>e&&e("CLOSED"));const a={},c={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(l=>l.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:l})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),l===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,f=(u=h==null?void 0:h.length)!==null&&u!==void 0?u:0,v=[];for(let g=0;g<f;g++){const w=h[g],{filter:{event:p,schema:y,table:E,filter:$}}=w,S=l&&l[g];if(S&&S.event===p&&S.schema===y&&S.table===E&&S.filter===$)v.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e("SUBSCRIBED");return}}).receive("error",l=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,r={}){return Pr(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)})}untrack(e={}){return Pr(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,r,n){return this._on(e,r,n)}send(e,r={}){return new Promise(n=>{var i,s,o;const a=this._push(e.type,e,r.timeout||this.timeout);a.rateLimited&&n("rate limited"),e.type==="broadcast"&&!(!((o=(s=(i=this.params)===null||i===void 0?void 0:i.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.ack)&&n("ok"),a.receive("ok",()=>n("ok")),a.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=U.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(M.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new wt(this,M.leave,{},e);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wt(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=M;if(n&&[a,c,l,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var g,w,p;return((g=v.filter)===null||g===void 0?void 0:g.event)==="*"||((p=(w=v.filter)===null||w===void 0?void 0:w.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(v=>v.callback(f,n)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var g,w,p,y,E,$;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const S=v.id,D=(g=v.filter)===null||g===void 0?void 0:g.event;return S&&((w=r.ids)===null||w===void 0?void 0:w.includes(S))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const S=(E=(y=v==null?void 0:v.filter)===null||y===void 0?void 0:y.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return S==="*"||S===(($=r==null?void 0:r.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:w,table:p,commit_timestamp:y,type:E,errors:$}=g;f=Object.assign(Object.assign({},{schema:w,table:p,commit_timestamp:y,eventType:E,new:{},old:{},errors:$}),this._getPayloadRecords(g))}v.callback(f,n)})}_isClosed(){return this.state===U.closed}_isJoined(){return this.state===U.joined}_isJoining(){return this.state===U.joining}_isLeaving(){return this.state===U.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&vr.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(M.close,{},e)}_onError(e){this._on(M.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=U.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Cr(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Cr(e.columns,e.old_record)),r}}var xt=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const $a=()=>{};class ja{constructor(e,r){var n;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=ya,this.params={},this.timeout=ri,this.transport=va.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$a,this.conn=null,this.sendBuffer=[],this.serializer=new wa,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${Jt.websocket}`,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.transport&&(this.transport=r.transport),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.eventsPerSecond;i&&(this.eventsPerSecondLimitMs=Math.floor(1e3/i)),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ni(()=>xt(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return xt(this,void 0,void 0,function*(){const r=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),r})}removeAllChannels(){return xt(this,void 0,void 0,function*(){const e=yield Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e})}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Re.connecting:return ne.Connecting;case Re.open:return ne.Open;case Re.closing:return ne.Closing;default:return ne.Closed}}isConnected(){return this.connectionState()===ne.Open}channel(e,r={config:{}}){this.isConnected()||this.connect();const n=new vr(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:i,ref:s}=e;let o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};if(this.log("push",`${r} ${n} (${s})`,i),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(n)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(r=>{e&&r.updateJoinPayload({access_token:e}),r.joinedOnce&&r._isJoined()&&r._push(M.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ma}))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(M.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ba,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,r=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(e(),r>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},r)),!1)}}class si extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function L(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ka extends si{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lr extends si{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var oi=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const ai=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oi(void 0,void 0,void 0,function*(){return yield(yield lt(()=>Promise.resolve().then(()=>ut),void 0)).fetch(...r)}):e=fetch,(...r)=>e(...r)},Ca=()=>oi(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield lt(()=>Promise.resolve().then(()=>ut),void 0)).Response:Response});var Ee=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Et=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Pa=(t,e)=>Ee(void 0,void 0,void 0,function*(){const r=yield Ca();t instanceof r?t.json().then(n=>{e(new ka(Et(n),t.status||500))}).catch(n=>{e(new Lr(Et(n),n))}):e(new Lr(Et(t),t))}),Ra=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function ht(t,e,r,n,i,s){return Ee(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Ra(e,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Pa(c,a))})})}function Gt(t,e,r,n){return Ee(this,void 0,void 0,function*(){return ht(t,"GET",e,r,n)})}function ie(t,e,r,n,i){return Ee(this,void 0,void 0,function*(){return ht(t,"POST",e,n,i,r)})}function Ia(t,e,r,n,i){return Ee(this,void 0,void 0,function*(){return ht(t,"PUT",e,n,i,r)})}function ci(t,e,r,n,i){return Ee(this,void 0,void 0,function*(){return ht(t,"DELETE",e,n,i,r)})}var H=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Da={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},La={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ua{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=ai(i)}uploadOrUpdate(e,r,n,i){return H(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},La),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl)):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const c=this._removeEmptyFolders(r),l=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return u.ok?{data:{path:c},error:null}:{data:null,error:yield u.json()}}catch(s){if(L(s))return{data:null,error:s};throw s}})}upload(e,r,n){return H(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}update(e,r,n){return H(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r){return H(this,void 0,void 0,function*(){try{return{data:yield ie(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}copy(e,r){return H(this,void 0,void 0,function*(){try{return{data:{path:(yield ie(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers})).Key},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,n){return H(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield ie(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(L(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return H(this,void 0,void 0,function*(){try{const i=yield ie(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(L(i))return{data:null,error:i};throw i}})}download(e,r){return H(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Gt(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(L(a))return{data:null,error:a};throw a}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${l}`)}}}remove(e){return H(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}list(e,r,n){return H(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Da),r),{prefix:e||""});return{data:yield ie(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(L(i))return{data:null,error:i};throw i}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Na="2.4.0",Ma={"X-Client-Info":`storage-js/${Na}`};var fe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};class Fa{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Ma),r),this.fetch=ai(n)}listBuckets(){return fe(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(L(e))return{data:null,error:e};throw e}})}getBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return fe(this,void 0,void 0,function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return fe(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}emptyBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}deleteBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}}class Ba extends Fa{constructor(e,r={},n){super(e,r,n)}from(e){return new Ua(this.url,this.headers,e,this.fetch)}}const qa="2.15.0",Ha={"X-Client-Info":`supabase-js/${qa}`};var za=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Ja=t=>{let e;return t?e=t:typeof fetch>"u"?e=_r:e=fetch,(...r)=>e(...r)},Ka=()=>typeof Headers>"u"?me.Headers:Headers,Ga=(t,e,r)=>{const n=Ja(r),i=Ka();return(s,o)=>za(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new i(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:l}))})};function Wa(t){return t.replace(/\/$/,"")}function Va(t,e){const{db:r,auth:n,realtime:i,global:s}=t,{db:o,auth:a,realtime:c,global:l}=e;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},l),s)}}var he=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function Ya(t){return Math.round(Date.now()/1e3)+t}function Xa(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const te=()=>typeof document<"u",Z={tested:!1,writable:!1},St=()=>{if(!te())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Z.tested)return Z.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Z.tested=!0,Z.writable=!0}catch{Z.tested=!0,Z.writable=!1}return Z.writable};function N(t,e){var r;e||(e=((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href)||""),t=t.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+t+"(=([^&#]*)|&|#|$)"),i=n.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const li=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>he(void 0,void 0,void 0,function*(){return yield(yield lt(()=>Promise.resolve().then(()=>ut),void 0)).fetch(...r)}):e=fetch,(...r)=>e(...r)},Qa=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ur=(t,e,r)=>he(void 0,void 0,void 0,function*(){yield t.setItem(e,JSON.stringify(r))}),Ot=(t,e)=>he(void 0,void 0,void 0,function*(){const r=yield t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}}),Nr=(t,e)=>he(void 0,void 0,void 0,function*(){yield t.removeItem(e)});function Za(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,s,o,a,c,l,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),n=o<<2|a>>4,i=(a&15)<<4|c>>2,s=(c&3)<<6|l,r=r+String.fromCharCode(n),c!=64&&i!=0&&(r=r+String.fromCharCode(i)),l!=64&&s!=0&&(r=r+String.fromCharCode(s));return r}class dt{constructor(){this.promise=new dt.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}dt.promiseConstructor=Promise;function Mr(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(Za(n))}function ec(t){return new Promise(e=>{setTimeout(()=>e(null),t)})}function tc(t,e){return new Promise((n,i)=>{he(this,void 0,void 0,function*(){for(let s=0;s<1/0;s++)try{const o=yield t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})})}function rc(t){return("0"+t.toString(16)).substr(-2)}function nc(){const e=new Uint32Array(56);if(typeof window.crypto>"u")throw new Error("PKCE is not supported on devices without WebCrypto API support, please add polyfills");return window.crypto.getRandomValues(e),Array.from(e,rc).join("")}function ic(t){return he(this,void 0,void 0,function*(){const r=new TextEncoder().encode(t);if(typeof window.crypto>"u")throw new Error("PKCE is not supported on devices without WebCrypto API support, please add polyfills");const n=yield window.crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")})}function sc(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function oc(t){return he(this,void 0,void 0,function*(){const e=yield ic(t);return sc(e)})}class gr extends Error{constructor(e,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r}}function x(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ac extends gr{constructor(e,r){super(e,r),this.name="AuthApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function cc(t){return x(t)&&t.name==="AuthApiError"}class ui extends gr{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ft extends gr{constructor(e,r,n){super(e),this.name=r,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ae extends ft{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Tt extends ft{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class K extends ft{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wt extends ft{constructor(e,r){super(e,"AuthRetryableFetchError",r)}}var yr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})},lc=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Je=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uc=(t,e)=>yr(void 0,void 0,void 0,function*(){const r=[502,503,504];Qa(t)?r.includes(t.status)?e(new Wt(Je(t),t.status)):t.json().then(n=>{e(new ac(Je(n),t.status||500))}).catch(n=>{e(new ui(Je(n),n))}):e(new Wt(Je(t),0))}),hc=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function O(t,e,r,n){var i;return yr(this,void 0,void 0,function*(){const s=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=yield dc(t,e,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}})}function dc(t,e,r,n,i,s){return yr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,hc(e,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>uc(c,a))})})}function G(t){var e;let r=null;vc(t)&&(r=Object.assign({},t),r.expires_at=Ya(t.expires_in));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function se(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fc(t){return{data:t,error:null}}function pc(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=lc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function _c(t){return t}function vc(t){return t.access_token&&t.refresh_token&&t.expires_in}var z=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})},gc=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class yc{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=li(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return z(this,void 0,void 0,function*(){try{return yield O(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(x(r))return{data:null,error:r};throw r}})}inviteUserByEmail(e,r={}){return z(this,void 0,void 0,function*(){try{return yield O(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:se})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}})}generateLink(e){return z(this,void 0,void 0,function*(){try{const{options:r}=e,n=gc(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),yield O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:pc,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(x(r))return{data:{properties:null,user:null},error:r};throw r}})}createUser(e){return z(this,void 0,void 0,function*(){try{return yield O(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:se})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}listUsers(e){var r,n,i,s,o,a,c;return z(this,void 0,void 0,function*(){try{const l={nextPage:null,lastPage:0,total:0},u=yield O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:_c});if(u.error)throw u.error;const h=yield u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(g=>{const w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(g.split(";")[1].split("=")[1]);l[`${p}Page`]=w}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},h),l),error:null}}catch(l){if(x(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return z(this,void 0,void 0,function*(){try{return yield O(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:se})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}updateUserById(e,r){return z(this,void 0,void 0,function*(){try{return yield O(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:se})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}})}deleteUser(e,r=!1){return z(this,void 0,void 0,function*(){try{return yield O(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:se})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}})}_listFactors(e){return z(this,void 0,void 0,function*(){try{const{data:r,error:n}=yield O(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(x(r))return{data:null,error:r};throw r}})}_deleteFactor(e){return z(this,void 0,void 0,function*(){try{return{data:yield O(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(x(r))return{data:null,error:r};throw r}})}}const mc="2.20.1",bc="http://localhost:9999",wc="supabase.auth.token",xc={"X-Client-Info":`gotrue-js/${mc}`},Ec=10,Sc={getItem:t=>St()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{St()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{St()&&globalThis.localStorage.removeItem(t)}};function Oc(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var m=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};Oc();const Tc={url:bc,storageKey:wc,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xc},At=10*1e3,Ac=3;class $c{constructor(e){var r;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null;const n=Object.assign(Object.assign({},Tc),e);if(this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||Sc,this.admin=new yc({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=li(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},te()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",i=>{this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return m(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:e,error:r}=yield this._getSessionFromUrl();if(r)return yield this._removeSession(),{error:r};const{session:n,redirectType:i}=e;return yield this._saveSession(n),setTimeout(()=>{i==="recovery"?this._notifyAllSubscribers("PASSWORD_RECOVERY",n):this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return x(e)?{error:e}:{error:new ui("Unexpected error during initialization",e)}}finally{yield this._handleVisibilityChange()}})}signUp(e){var r,n,i;return m(this,void 0,void 0,function*(){try{yield this._removeSession();let s;if("email"in e){const{email:u,password:h,options:f}=e;s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:G})}else if("phone"in e){const{phone:u,password:h,options:f}=e;s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:G})}else throw new Tt("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(yield this._saveSession(o.session),this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(x(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return m(this,void 0,void 0,function*(){try{yield this._removeSession();let r;if("email"in e){const{email:s,password:o,options:a}=e;r=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:G})}else if("phone"in e){const{phone:s,password:o,options:a}=e;r=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:G})}else throw new Tt("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i||!n?{data:{user:null,session:null},error:i}:(n.session&&(yield this._saveSession(n.session),this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:i})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){var r,n,i,s,o,a;return m(this,void 0,void 0,function*(){return yield this._removeSession(),yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect,flowType:(a=(o=e.options)===null||o===void 0?void 0:o.flowType)!==null&&a!==void 0?a:"implicit"})})}exchangeCodeForSession(e){return m(this,void 0,void 0,function*(){const r=yield Ot(this.storage,`${this.storageKey}-oauth-code-verifier`),{data:n,error:i}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:G});return yield Nr(this.storage,`${this.storageKey}-oauth-code-verifier`),i||!n?{data:{user:null,session:null},error:i}:(n.session&&(yield this._saveSession(n.session),this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:i})})}signInWithIdToken(e){return m(this,void 0,void 0,function*(){yield this._removeSession();try{const{options:r,provider:n,token:i,nonce:s}=e,o=yield O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:G}),{data:a,error:c}=o;return c||!a?{data:{user:null,session:null},error:c}:(a.session&&(yield this._saveSession(a.session),this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){var r,n,i,s,o;return m(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in e){const{email:a,options:c}=e,{error:l}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:l}}if("phone"in e){const{phone:a,options:c}=e,{error:l}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null},error:l}}throw new Tt("You must provide either an email or phone number.")}catch(a){if(x(a))return{data:{user:null,session:null},error:a};throw a}})}verifyOtp(e){var r,n;return m(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:i,error:s}=yield O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:(r=e.options)===null||r===void 0?void 0:r.captchaToken}}),redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,xform:G});if(s)throw s;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,a=i.user;return o!=null&&o.access_token&&(yield this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:a,session:o},error:null}}catch(i){if(x(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(e){var r,n,i;return m(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:fc})}catch(s){if(x(s))return{data:null,error:s};throw s}})}getSession(){return m(this,void 0,void 0,function*(){yield this.initializePromise;let e=null;if(this.persistSession){const s=yield Ot(this.storage,this.storageKey);s!==null&&(this._isValidSession(s)?e=s:yield this._removeSession())}else e=this.inMemorySession;if(!e)return{data:{session:null},error:null};if(!(e.expires_at?e.expires_at<=Date.now()/1e3:!1))return{data:{session:e},error:null};const{session:n,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}})}getUser(e){var r,n;return m(this,void 0,void 0,function*(){try{if(!e){const{data:i,error:s}=yield this.getSession();if(s)throw s;e=(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0}return yield O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:se})}catch(i){if(x(i))return{data:{user:null},error:i};throw i}})}updateUser(e,r={}){return m(this,void 0,void 0,function*(){try{const{data:n,error:i}=yield this.getSession();if(i)throw i;if(!n.session)throw new Ae;const s=n.session,{data:o,error:a}=yield O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:e,jwt:s.access_token,xform:se});if(a)throw a;return s.user=o.user,yield this._saveSession(s),this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}}catch(n){if(x(n))return{data:{user:null},error:n};throw n}})}_decodeJWT(e){return Mr(e)}setSession(e){return m(this,void 0,void 0,function*(){try{if(!e.access_token||!e.refresh_token)throw new Ae;const r=Date.now()/1e3;let n=r,i=!0,s=null;const o=Mr(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:a,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:c}=yield this.getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},yield this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(x(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){var r;return m(this,void 0,void 0,function*(){try{if(!e){const{data:s,error:o}=yield this.getSession();if(o)throw o;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ae;const{session:n,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}catch(n){if(x(n))return{data:{user:null,session:null},error:n};throw n}})}_getSessionFromUrl(){return m(this,void 0,void 0,function*(){try{if(!te())throw new K("No browser detected.");if(!this._isImplicitGrantFlow())throw new K("Not a valid implicit grant flow url.");const e=N("error_description");if(e){const w=N("error_code");if(!w)throw new K("No error_code detected.");const p=N("error");throw p?new K(e,{error:p,code:w}):new K("No error detected.")}const r=N("provider_token"),n=N("provider_refresh_token"),i=N("access_token");if(!i)throw new K("No access_token detected.");const s=N("expires_in");if(!s)throw new K("No expires_in detected.");const o=N("refresh_token");if(!o)throw new K("No refresh_token detected.");const a=N("token_type");if(!a)throw new K("No token_type detected.");const l=Math.round(Date.now()/1e3)+parseInt(s),{data:u,error:h}=yield this.getUser(i);if(h)throw h;const f=u.user,v={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:parseInt(s),expires_at:l,refresh_token:o,token_type:a,user:f},g=N("type");return window.location.hash="",{data:{session:v,redirectType:g},error:null}}catch(e){if(x(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){return te()&&(!!N("access_token")||!!N("error_description"))}signOut(){var e;return m(this,void 0,void 0,function*(){const{data:r,error:n}=yield this.getSession();if(n)return{error:n};const i=(e=r.session)===null||e===void 0?void 0:e.access_token;if(i){const{error:s}=yield this.admin.signOut(i);if(s&&!(cc(s)&&(s.status===404||s.status===401)))return{error:s}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(e){const r=Xa(),n={id:r,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(r)}};return this.stateChangeEmitters.set(r,n),this.emitInitialSession(r),{data:{subscription:n}}}emitInitialSession(e){var r,n;return m(this,void 0,void 0,function*(){try{const{data:{session:i},error:s}=yield this.getSession();if(s)throw s;(r=this.stateChangeEmitters.get(e))===null||r===void 0||r.callback("INITIAL_SESSION",i)}catch(i){(n=this.stateChangeEmitters.get(e))===null||n===void 0||n.callback("INITIAL_SESSION",null),console.error(i)}})}resetPasswordForEmail(e,r={}){return m(this,void 0,void 0,function*(){try{return yield O(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(n){if(x(n))return{data:null,error:n};throw n}})}_refreshAccessToken(e){return m(this,void 0,void 0,function*(){try{const r=Date.now();return yield tc(n=>m(this,void 0,void 0,function*(){return yield ec(n*200),yield O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:G})}),(n,i,s)=>s&&s.error&&s.error instanceof Wt&&Date.now()+(n+1)*200-r<At)}catch(r){if(x(r))return{data:{session:null,user:null},error:r};throw r}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return m(this,void 0,void 0,function*(){const n=yield this._getUrlForProvider(e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams,flowType:r.flowType});return te()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}})}_recoverAndRefresh(){var e;return m(this,void 0,void 0,function*(){try{const r=yield Ot(this.storage,this.storageKey);if(!this._isValidSession(r)){r!==null&&(yield this._removeSession());return}const n=Math.round(Date.now()/1e3);if(((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+Ec)if(this.autoRefreshToken&&r.refresh_token){const{error:i}=yield this._callRefreshToken(r.refresh_token);i&&(console.log(i.message),yield this._removeSession())}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(r)),this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){console.error(r);return}})}_callRefreshToken(e){var r,n;return m(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new dt,!e)throw new Ae;const{data:i,error:s}=yield this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Ae;yield this._saveSession(i.session),this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(x(i)){const s={session:null,error:i};return(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(e,r,n=!0){this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r}),this.stateChangeEmitters.forEach(i=>i.callback(e,r))}_saveSession(e){return m(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=e),this.persistSession&&e.expires_at&&(yield this._persistSession(e))})}_persistSession(e){return Ur(this.storage,this.storageKey,e)}_removeSession(){return m(this,void 0,void 0,function*(){this.persistSession?yield Nr(this.storage,this.storageKey):this.inMemorySession=null})}_removeVisibilityChangedCallback(){const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&te()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return m(this,void 0,void 0,function*(){yield this._stopAutoRefresh();const e=setInterval(()=>this._autoRefreshTokenTick(),At);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"&&e.unref(),yield this._autoRefreshTokenTick()})}_stopAutoRefresh(){return m(this,void 0,void 0,function*(){const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return m(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return m(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return m(this,void 0,void 0,function*(){const e=Date.now();try{const{data:{session:r}}=yield this.getSession();if(!r||!r.refresh_token||!r.expires_at)return;Math.floor((r.expires_at*1e3-e)/At)<Ac&&(yield this._callRefreshToken(r.refresh_token))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}})}_handleVisibilityChange(){return m(this,void 0,void 0,function*(){if(!te()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>m(this,void 0,void 0,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return m(this,void 0,void 0,function*(){document.visibilityState==="visible"?(e||(yield this.initializePromise,yield this._recoverAndRefresh()),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r){return m(this,void 0,void 0,function*(){const n=[`provider=${encodeURIComponent(e)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),(r==null?void 0:r.flowType)==="pkce"){const i=nc();yield Ur(this.storage,`${this.storageKey}-oauth-code-verifier`,i);const s=yield oc(i),o=new URLSearchParams({flow_type:`${encodeURIComponent(r.flowType)}`,code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent("s256")}`});n.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return`${this.url}/authorize?${n.join("&")}`})}_unenroll(e){var r;return m(this,void 0,void 0,function*(){try{const{data:n,error:i}=yield this.getSession();return i?{data:null,error:i}:yield O(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})}catch(n){if(x(n))return{data:null,error:n};throw n}})}_enroll(e){var r,n;return m(this,void 0,void 0,function*(){try{const{data:i,error:s}=yield this.getSession();if(s)return{data:null,error:s};const{data:o,error:a}=yield O(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(!((n=o==null?void 0:o.totp)===null||n===void 0)&&n.qr_code&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}catch(i){if(x(i))return{data:null,error:i};throw i}})}_verify(e){var r;return m(this,void 0,void 0,function*(){try{const{data:n,error:i}=yield this.getSession();if(i)return{data:null,error:i};const{data:s,error:o}=yield O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})}catch(n){if(x(n))return{data:null,error:n};throw n}})}_challenge(e){var r;return m(this,void 0,void 0,function*(){try{const{data:n,error:i}=yield this.getSession();return i?{data:null,error:i}:yield O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})}catch(n){if(x(n))return{data:null,error:n};throw n}})}_challengeAndVerify(e){return m(this,void 0,void 0,function*(){const{data:r,error:n}=yield this._challenge({factorId:e.factorId});return n?{data:null,error:n}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return m(this,void 0,void 0,function*(){const{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:n,totp:i},error:null}})}_getAuthenticatorAssuranceLevel(){var e,r;return m(this,void 0,void 0,function*(){const{data:{session:n},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(n.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const l=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:l},error:null}})}}class jc extends $c{constructor(e){super(e)}}var kc=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Cc={headers:Ha},Pc={schema:"public"},Rc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},Ic={};class Dc{constructor(e,r,n){var i,s,o,a,c,l,u,h;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const f=Wa(e);if(this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,f.match(/(supabase\.co)|(supabase\.in)/)){const y=f.split(".");this.functionsUrl=`${y[0]}.functions.${y[1]}.${y[2]}`}else this.functionsUrl=`${f}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:Pc,realtime:Ic,auth:Object.assign(Object.assign({},Rc),{storageKey:g}),global:Cc},p=Va(n??{},w);this.storageKey=(s=(i=p.auth)===null||i===void 0?void 0:i.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(o=p.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((c=p.auth)!==null&&c!==void 0?c:{},this.headers,(l=p.global)===null||l===void 0?void 0:l.fetch),this.fetch=Ga(r,this._getAccessToken.bind(this),(u=p.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new Ro(`${f}/rest/v1`,{headers:this.headers,schema:(h=p.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new So(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ba(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,r={},n){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return kc(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s},o,a){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jc({url:this.authUrl,headers:Object.assign(Object.assign({},c),o),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,fetch:a})}_initRealtimeClient(e){return new ja(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,n==null?void 0:n.access_token,"CLIENT")})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Lc=(t,e,r)=>new Dc(t,e,r),Uc="https://fhcldfihhxhqgmvvrfix.supabase.co",Nc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZoY2xkZmloaHhocWdtdnZyZml4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzcxNjgwNDYsImV4cCI6MTk5Mjc0NDA0Nn0.Y5bYC-rPrl1iXzOpxmsS6S-smjcJv-RV5hXDAh8L4xQ",je=Lc(Uc,Nc);class Mc{constructor(){}async getAuthJWT(){var r;const e=await je.auth.getSession();if((r=e.data.session)!=null&&r.access_token)return e.data.session.access_token}async request(e){const r=await this.getAuthJWT();return fetch(e.url,{body:e.body,method:e.method,headers:{"supabase-jwt":r?`Bearer ${r}`:""}})}async testApiCall(){return await(await this.request({url:"https://eoyfxef2rsv6rc7.m.pipedream.net?user=my-user",method:"GET"})).json()}}const Fc=new Mc;ue.store("Auth",{signInData:{email:null,password:null},isSignedIn:!1,user:null,init(){console.log("Auth store initialized"),je.auth.onAuthStateChange((t,e)=>{var r;console.log("onAuthStateChange",t,e),t==="SIGNED_IN"?(this.user={name:((r=e==null?void 0:e.user)==null?void 0:r.email)||""},this.isSignedIn=!0):t==="SIGNED_OUT"&&(this.user=null,this.isSignedIn=!1)})},async signIn(t){console.log("Signing in...");const e=await je.auth.signInWithPassword({email:this.signInData.email,password:this.signInData.password});this.signInData={email:null,password:null},t&&(window.location.href=t),console.log("signInResult",e)},async signOut(t){console.log("sign out"),await je.auth.signOut(),t&&(window.location.href=t)},async signUp(){console.log("sign up"),await je.auth.signUp({email:"asd",password:"asd",options:{data:{isInvestor:!0}}})}});ue.store("Notify",{notifications:[],add(t){const e=Math.floor(Math.random()*1e9).toString();this.notifications.push({id:e,type:t.type,message:t.message}),setTimeout(()=>this.remove(e),5e3)},remove(t){this.notifications=this.notifications.filter(e=>e.id!==t)}});function mr(t){const e=[];for(let r=0;r<t.attributes.length;++r){const n=t.attributes[r];n.name.startsWith("x-")&&e.push(n)}return e}function Bc(t){const e=document.createElement("template");mr(t).forEach(n=>{e.setAttribute(n.name,n.value),t.removeAttribute(n.name)}),t.parentNode.insertBefore(e,t),e.content.appendChild(t)}function qc(t){mr(t).forEach(r=>{const n=r.name.match(/^(x-[^:]+)(:.+)$/);if(n){let i=null;if(["x-bind","x-on"].includes(n[1])){let s=n[1],o=n[2].substring(1);s==="x-on"&&o.startsWith("update:")&&(s+=":update",o=o.substring(7)),o.includes(":")&&(i=s+":"+o.replace(/:/g,"."))}else i=n[1]+n[2].replace(/:/g,".");i&&(t.setAttribute(i,r.value),t.removeAttribute(r.name))}})}function Hc(t){mr(t).forEach(r=>{r.name.match(/^x-transition.*(?!(enter|leave))/)&&t.setAttribute(r.name,"")})}function Fr(){document.body.setAttribute("x-data",""),document.querySelectorAll("[x-data],[x-data] *").forEach(t=>{qc(t),Hc(t)}),document.querySelectorAll("[x-data] [x-for], [x-data] [x-if]").forEach(Bc)}window.Alpine=ue;window.Webflow?window.Webflow.push(()=>{Fr(),ue.start()}):(Fr(),ue.start());ue.store("App",{user:"my user",init(){console.log("App store initialized")},async click(){const t=await Fc.testApiCall();console.log(" ~ file: main.ts:23 ~ click ~ res:",t)}});console.log("heey",ue.store("Auth"));
